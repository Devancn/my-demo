<script>

function merge(left, right) {
  // 存放最终合并之后的数组
  let temp = [];
  // 表示从left中取第leftIndex个元素push到temp中
  let leftIndex = 0;
  // 表示从rightIndex中取第j个元素push到temp中
  let rightIndex = 0;
 
  while(left.length > leftIndex && right.length > rightIndex) {
    if(left[leftIndex] <= right[rightIndex]) {
      temp.push(left[leftIndex++]);
    } else {
      temp.push(right[rightIndex++])
    }
  }

  return temp.concat(left, right);
}


/*
  归并排序思想：
  1. 如果要排序一个数组，我们先把数组从中间分成前后两部分，然后对前后两部分分别排序
  2. 再将排好序的两部分合并在一起，这样整个数组就都有序了
*/

function mergeSort(arr) {
  // 递归终止条件，数组只有一个元素
  if(arr.length <= 1) return;
  // 计算数组中间下标
  const middle = Math.floor(arr.length / 2);
  // 把数组平分成左右两个子数组
  const left = arr.slice(0, middle);
  const right = arr.slice(middle);
  // 递归分解最后的合并，合并时左右两个数组中的元素肯定已经排好序
  return merge(mergeSort(left), mergeSort(right));
}

const arr =  [1,5,2,6,3,10,13,16,12,14,19,20];

const result = mergeSort(arr);
console.log(result);

</script>