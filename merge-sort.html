<script>

// 这里要求start到middle之前的元素必须已经是有序
// middle到end之间的元素必须是有序
// 如 [1,4,6, 2,5,7]
function merge(array = [],start, middle, end) {
  // 此时原array中的元素已经被分配到A1,A2中
  // 把array数组从中间切成两半，分别存放到A1,A2数组中
  let A1 = array.slice(start, middle); 
  let A2 = array.slice(middle, end);
  // 追加哨兵，任何数与他比较都是false
  // 这种只有表示某个（A1,A2）已经遍历到尾部了，另一个数组中的元素与他比较
  //都会返回false,就会把另个元素copy到array中
  // 还有另一种技巧把另外一个元素的剩余元素直接按顺序copy到array中
  A1.push(Number.MAX_SAFE_INTEGER);
  A2.push(Number.MAX_SAFE_INTEGER);
  // K表示将往array中写入元素的索引
  // i表示在A1数组中将要把索引为i的元素copy到数组array中
  // j表示在A2数组中将要把索引为j的元素copy到数组array中
  for(let k = start, i = 0, j = 0; k < end; k++) {
    A[k] = A1[i] < A2[j] ? A1[i++] : A2[j++];    
  }
}
const A =  [1,4,6, 2,5,7];

merge(A,0,Math.floor(A.length/ 2),A.length);
console.log(A);
</script>